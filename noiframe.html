<!DOCTYPE html>
<html>

<head>
  <base target="_top">

  <meta charset="utf-8">

  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
  <title>noIframe</title>
  
  <style>
    .iframecontainer {
      position: absolute;
      overflow: hidden;
      width: 100%;
      top: 0px;
      bottom: 0;
    }

    /* Then style the iframe to fit in the container div with full height and width */
    .responsive-iframe {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
  </style>
</head>

<body>
  
  <div class="iframecontainer">
    <iframe name='iframeView' id="divisio" class="responsive-iframe"
      src=''></iframe>
  </div>
  <script>
  const queryString = window.location.search;
console.log(queryString);
const urlParams = new URLSearchParams(queryString);


var app = queryString.replace('?url=','')
var config = `<html><head></head><body><h3>Afegeix el paràmetre ?url= i afegeix la pàgina que vulguis embeguda</h3>
<p>Per exemple: <a href='moominot.github.io/noiframe?url=http://google.com'>moominot.github.io/noiframe<strong>?url=http://google.com</strong></a></p>
<p>Aquesta pàgina està pensada per embeure webapps generada amb Google App Scripts i eliminar el bànner que surt per defecte</p>
</body></html>`

window.addEventListener("load",function(){
urlParams.has('url')?vesURL(app):vesURL(config)
})

function vesURL(url){  
  var iframe = document.getElementById("divisio")
  iframe.src = url
}</script>
</body>

</html>
